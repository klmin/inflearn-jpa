# 엔티티매핑
 - 객체와 테이블 매핑 : @Entity, @Table
 - 필드와 컬럼 매핑 : @Column
 - 기본 키 매핑 : @Id
 - 연관관계 매핑 : @ManyToOne, @JoinColumn
 - 객체와 테이블 매핑
 - @Entity
   - @Entity가 붙은 클래스는 JPA가 관리, 엔티티라 한다.
   - JPA를 사용해서 테이블과 매핑할 클래스는 @Entity 필수
   - 주의
     - 기본 생성자 필수(public이나 protected)
     - final 클래스, enum, interface, inner 클래스 사용 x
     - 저장할 필드에 final 사용 x
   - 속성 : name
     - JPA에서 사용할 엔티티 이름을 지정한다.
     - 기본값 : 클래스 이름을 그대로 사용
     - 같은 클래스 이름이 없으면 가급적 기본값을 사용
   - 속성 : catalog
     - 데이터베이스 catalog 매핑
   - 속성 : schema
     - 데이터베이스 schema 매핑
   - 속성 : uniqueConstraints(DDL)
     - DDL생성시에 유니크 제약조건 생성
       
* 데이터베이스 스키마 자동 생성 (테스트시 사용)
  - DDL을 애플리케이션 실행 시점에 자동 생성
  - 테이블 중심 -> 객체 중심
  - 데이터베이스 방언을 활용해서 데이터베이스에 맞는 적절한 DDL 생성
  - 이렇게 생성된 DDL은 개발 장비에만 사용
  - 생성된 DDL은 운영서버에서는 사용하지 않거나 적절히 다듬은 후 사용
  - 속성
      - create : 기존 테이블 삭제 후 다시 생성(DROP + CREATE)
      - create-dtop : create와 같으나 종료시점에 테이블 DROP
      - update : 변경분만 반영(운영DB에는 사용하면 안됨)
      - validate : 엔티티와 테이블이 정상매핑되었는지 확인
      - none : 사용하지 않음 - 관례상 씀 none은 없음. value 에 아무거나 쓰는거랑 똑같은거
  - 데이터베이스 방언 별로 달라지는것 확인(varchar)
  - 개발 초기 : create 또는 update, 테스트 서버 : update 또는 validate, 스테이징과 운영서버 : validate 또는 none
  - DDL 생성 기능
    - 제약조건 추가 : 필수, 10글자 까지 ex) @Comlumn(nullable=false, length=10)
    - 유니크 제약조건 추가 : @Table(uniqueConstraints={@UniqueConstraint(name="NAME_AGE_UNIQUE", columnNames={"NAME","age"})})
    - DDL 생성 기능은 DDL을 자동 생성할때만 사용되고 JPA 실행 로직에는 영향을 주지 않는다.

# 필드와 컬럼 매핑
 - @Column
 - 속성
    - name : 필드와 매핑할 테이블의 컬럼 이름. 기본값 : 변수명. ex) @Column(name="testName") String name; - testName과 맵핑됨
    - insertable : JPA 등록작업시 해당 컬럼 등록 가능 여부 - 기본값 true
    - updateable : JPA 수정작업시 해당 컬럼 등록 가능 여부 - 기본값 true
    - nullable(DDL) : null값의 허용여부 설정. false 선언시 not null
    - unique(DDL) : 컬럼에 유니크 제약 조건
    - columnDefinition(DDL) : 데이터베이스에 컬럼정보를 직접 줄수 있다. 기본값 : 필드의 자바타입과 방언 정보를 사용. ex) @Column(columnDefinition="varchar(100) default 'EMPTY'")
    - length(DDL) : 컬럼 데이터 길이
    - precision, scale(DDL) : BigDecimal 타입에서 사용(BigInteger에도 가능), precision은 소수점을 포함한 전체 자릿수를 scale은 소수의 자릿수다. 참고로 double, float 타입에는 적용되지 않는다.정밀한 소수를 다뤄야할때 사용
 - @Enumerated - EnumClass 맵핑 ex)EnumType.STRING (enum이름저장. 필수로 string 써야함). 기본타잆 : ORDINAL - enum에 순서저장 (컬럼이 integer로 생성됨. enum에 선언된 순서. 순서가 바뀌면 문제 생김)
 - @Temporal : 날짜맵핑 - TemporaolType.DATE (DATE), TemporaolType.TIME (Time), TemporaolType.TIMESTMAP (TimeStamp). 하이버네이트 최신버전이랑 LocalDate쓰면 선언 안해도 알아서 해줌.
 - @Lob : CLOB(String, char[], CLOB), BLOB(byte[], BLOB)
 - @Transient : 맵핑제외
    
   


